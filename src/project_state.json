{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 9,
  "summary": "Expand the TikTok-style vertical feed web app (PWA-like) with reliable upload visibility/feedback and feed loading, plus new capabilities: in-feed search across captions/handles for both videos and images, in-app capture/editing tools, stronger in-app security verification (security questions + device confirmation + PIN on suspicious activity), and the ability to download uploaded media to the user’s device.",
  "architectural_notes": [
    "Target platform is web (React) rather than Expo/React Native.",
    "Core experience: vertical, full-screen, swipe/scroll paging video feed (TikTok-style).",
    "Backend should be implemented as a canister (for the like API and feed metadata).",
    "Search must query across both captions and creator handles and return mixed media (video+image) results.",
    "Implement in-browser media capture and editing (camera access + client-side crop/trim/text/filters) for upload flow.",
    "Security flow includes risk-triggered PIN challenge plus security questions and device confirmation; no email-based verification."
  ],
  "known_issues": [
    "Uploads provide no success/progress feedback and uploaded posts are not visible after uploading.",
    "Feed can appear completely empty (no older posts displayed), indicating a feed loading/fetch/rendering failure."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-create-a-full-screen-vertically-paged-video-feed-ui-one-video-per-screen-that-works-in-modern-desktop-and-mobile-browsers-using-scroll-snap-or-equivalent-so-each-swipe-scroll-lands-on-the-next-previous-video",
      "title": "Create a full-screen, vertically paged video feed UI (one video per screen) that works in modern desktop and mobile browsers, using scroll-snap or equivalent so each swipe/scroll lands on the next/previous video.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-video-playback-behavior-similar-to-tiktok-only-the-currently-active-in-view-video-should-play-automatically-all-other-videos-must-be-paused-videos-should-be-muted-by-default-loop-and-load-efficiently-avoid-downloading-all-videos-at-once",
      "title": "Implement video playback behavior similar to TikTok: only the currently active (in-view) video should play automatically; all other videos must be paused. Videos should be muted by default, loop, and load efficiently (avoid downloading all videos at once).",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-add-per-video-overlay-ui-elements-creator-handle-caption-text-and-an-interaction-rail-like-button-like-count-optional-comment-placeholder-button-share-placeholder-button-add-double-click-double-tap-on-the-video-area-to-like",
      "title": "Add per-video overlay UI elements: creator handle, caption text, and an interaction rail (Like button + like count, optional Comment placeholder button, Share placeholder button). Add double-click/double-tap on the video area to like.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-simple-playback-speed-control-for-the-active-video-e-g-0-5-1-2-accessible-from-the-overlay-ui-and-apply-it-to-the-html-video-playback-rate",
      "title": "Add a simple playback speed control for the active video (e.g., 0.5× / 1× / 2×), accessible from the overlay UI, and apply it to the HTML video playback rate.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-minimal-backend-api-to-supply-the-feed-and-persist-likes-store-a-list-of-video-metadata-id-videourl-handle-caption-likecount-and-expose-endpoints-to-1-fetch-feed-items-and-2-toggle-like-for-a-given-video-for-the-current-user-identity",
      "title": "Implement a minimal backend API to supply the feed and persist likes: store a list of video metadata (id, videoUrl, handle, caption, likeCount) and expose endpoints to (1) fetch feed items and (2) toggle like for a given video for the current user identity.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-coherent-distinctive-visual-theme-for-a-tiktok-like-dark-feed-experience-colors-typography-spacing-and-button-styling-and-apply-it-consistently-across-the-feed-ui",
      "title": "Add a coherent, distinctive visual theme for a TikTok-like dark feed experience (colors, typography, spacing, and button styling) and apply it consistently across the feed UI.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-frontend-upload-entry-point-upload-button-that-is-visible-on-both-mobile-and-desktop-allowing-authenticated-users-to-upload-videos-and-pictures-with-a-caption-after-upload-completes-the-new-post-appears-immediately-in-the-global-feed",
      "title": "Add a frontend upload entry point (upload button) that is visible on both mobile and desktop, allowing authenticated users to upload videos and pictures with a caption; after upload completes, the new post appears immediately in the global feed.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-feed-rendering-to-support-both-video-posts-and-image-posts-in-the-same-vertically-paged-full-screen-feed-preserving-existing-overlays-and-interaction-rail-behaviors-where-applicable",
      "title": "Update the feed rendering to support both video posts and image posts in the same vertically paged, full-screen feed, preserving existing overlays and interaction rail behaviors where applicable.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-mobile-app-like-experience-for-the-web-app-by-enabling-installability-as-a-pwa-and-ensuring-the-ui-feels-app-like-on-mobile-safe-area-spacing-full-screen-layout-stability-and-touch-first-controls",
      "title": "Add a mobile-app-like experience for the web app by enabling installability as a PWA and ensuring the UI feels app-like on mobile (safe-area spacing, full-screen layout stability, and touch-first controls).",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-feed-sometimes-rendering-as-completely-empty-by-making-feed-loading-resilient-and-diagnosable-ensure-the-app-always-attempts-to-fetch-fetchfeeditems-when-an-actor-is-available-anonymous-or-authenticated-and-surface-actionable-error-details-without-exposing-sensitive-data-when-the-fetch-fails",
      "title": "Fix the feed sometimes rendering as completely empty by making feed loading resilient and diagnosable: ensure the app always attempts to fetch `fetchFeedItems()` when an actor is available (anonymous or authenticated), and surface actionable error details (without exposing sensitive data) when the fetch fails.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-upload-ux-so-users-always-receive-clear-progress-completion-feedback-and-their-new-post-becomes-visible-immediately-after-upload-succeeds",
      "title": "Improve upload UX so users always receive clear progress + completion feedback and their new post becomes visible immediately after upload succeeds.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-add-keyword-search-for-both-videos-and-images-across-captions-and-creator-handles-accessible-via-a-search-button-in-the-main-top-bar",
      "title": "Add keyword search for both videos and images across captions and creator handles, accessible via a Search button in the main top bar.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-add-in-app-capture-for-live-video-recording-directly-inside-the-app-using-the-device-camera-integrated-into-the-existing-upload-flow",
      "title": "Add in-app capture for live video recording directly inside the app using the device camera, integrated into the existing upload flow.",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-add-basic-editing-tools-for-images-and-videos-image-cropping-video-trimming-text-overlays-and-simple-filters-applied-before-upload",
      "title": "Add basic editing tools for images and videos: image cropping, video trimming, text overlays, and simple filters, applied before upload.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-simplified-in-app-three-step-security-verification-without-email-security-questions-device-confirmation-and-a-pin-challenge-that-is-triggered-when-the-system-detects-suspicious-activity",
      "title": "Implement a simplified in-app three-step security verification (without email): security questions, device confirmation, and a PIN challenge that is triggered when the system detects suspicious activity.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-add-the-ability-for-users-to-download-media-images-videos-from-the-feed-directly-to-their-device-local-storage",
      "title": "Add the ability for users to download media (images/videos) from the feed directly to their device local storage.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Implement a simplified TikTok-style vertical video feed for the browser (web app UI/flow).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Add an advanced version including overlays + like API backed by a backend canister.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Create a mobile app form of the product (mobile-first, app-like experience rather than only a browser web app).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Add user uploads for videos and pictures: provide an upload button on both mobile and desktop, and publish uploads immediately into the global feed for everyone.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Update the backend data model and APIs to support user-generated uploads (both videos and pictures) that appear immediately in the global feed for everyone.",
      "reqIds": [
        "REQ-7"
      ],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Remove the current admin-only restriction for adding content to the feed, replacing it with: any authenticated user can upload media (video or image) into the global feed; guests cannot upload.",
      "reqIds": [
        "REQ-8"
      ],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "If backend state shape must change to support mixed media feed items, add a conditional Motoko migration that preserves existing stored feed items and like counts during upgrade.",
      "reqIds": [
        "REQ-12"
      ],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Add a search button/flow to search across creator handles and captions for both video and image posts (keyword-based).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Add in-app capture and editing tools: record live video in-app via device camera; basic editing for images/videos (crop, trim, text overlays, filters) before/after upload.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Add three-step security verification (without email): security questions + device confirmation + PIN challenge triggered when suspicious activity is detected.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Allow users to download media (images/videos) from the app directly to their device local storage.",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "ZIZO",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}