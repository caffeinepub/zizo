{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Project ZIZO: deliver a working Android APK login flow for Internet Identity by using a workaround that temporarily opens the device’s external browser for authentication and then returns the user back into the app.",
  "architectural_notes": [
    "Internet Identity login is blocked inside embedded/in-app WebViews by Google policies; authentication must be performed via an external system browser flow with a return-to-app mechanism (e.g., redirect/deep link)."
  ],
  "known_issues": [
    "Current generated APK login fails with: 'Access blocked: Internet Identity’s request does not comply with Google’s policies' due to in-app WebView authentication being blocked."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-update-the-internet-identity-login-flow-so-that-when-the-app-is-running-inside-an-android-apk-webview-or-otherwise-an-embedded-in-app-browser-login-does-not-open-internet-identity-inside-the-webview-instead-initiate-authentication-by-opening-the-device-s-external-browser-and-after-successful-authentication-return-the-user-back-to-the-app-and-complete-login",
      "title": "Update the Internet Identity login flow so that, when the app is running inside an Android APK WebView (or otherwise an embedded/in-app browser), login does not open Internet Identity inside the WebView. Instead, initiate authentication by opening the device’s external browser and, after successful authentication, return the user back to the app and complete login.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-preserve-the-existing-login-behavior-for-normal-desktop-mobile-browsers-non-webview-so-that-login-continues-to-work-as-it-does-today-unless-the-embedded-browser-workaround-is-needed",
      "title": "Preserve the existing login behavior for normal desktop/mobile browsers (non-WebView) so that login continues to work as it does today unless the embedded-browser workaround is needed.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-add-user-facing-english-ui-feedback-for-the-workaround-flow-when-the-app-needs-to-switch-to-the-external-browser-for-login-inform-the-user-what-is-happening-and-what-to-do-next-and-show-an-in-progress-state-until-the-app-finishes-handling-the-return",
      "title": "Add user-facing, English UI feedback for the workaround flow: when the app needs to switch to the external browser for login, inform the user what is happening and what to do next, and show an in-progress state until the app finishes handling the return.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-safe-return-handling-after-external-browser-authentication-so-that-the-app-can-finalize-authentication-on-load-resume-and-does-not-get-stuck-in-a-partial-state-ensure-any-temporary-url-parameters-fragments-used-for-the-return-flow-are-cleaned-up-from-the-url-after-processing",
      "title": "Implement safe return handling after external-browser authentication so that the app can finalize authentication on load/resume and does not get stuck in a partial state; ensure any temporary URL parameters/fragments used for the return flow are cleaned up from the URL after processing.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Implement Android APK Internet Identity login workaround: open auth in device browser (not in-app WebView) and return user to the app after login.",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "ZIZO",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}